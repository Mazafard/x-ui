{{define "clientInfoStream"}}
<p>{{ i18n "transmission" }}: <a-tag color="green">[[ client.network ]]</a-tag></p>

<template v-if="client.isTcp || client.isWs || client.isH2">
    <p v-if="client.host">host: <a-tag color="green">[[ client.host ]]</a-tag></p>
    <p v-else>{{ i18n "host" }}: <a-tag color="orange">{{ i18n "none" }}</a-tag></p>

    <p v-if="client.path">path: <a-tag color="green">[[ client.path ]]</a-tag></p>
    <p v-else>{{ i18n "path" }}: <a-tag color="orange">{{ i18n "none" }}</a-tag></p>
</template>

<template v-if="client.isQuic">
    <p>quic {{ i18n "encryption" }}: <a-tag color="green">[[ client.quicSecurity ]]</a-tag></p>
    <p>quic {{ i18n "password" }}: <a-tag color="green">[[ client.quicKey ]]</a-tag></p>
    <p>quic {{ i18n "camouflage" }}: <a-tag color="green">[[ client.quicType ]]</a-tag></p>
</template>

<template v-if="client.isKcp">
    <p>kcp {{ i18n "encryption" }}: <a-tag color="green">[[ client.kcpType ]]</a-tag></p>
    <p>kcp {{ i18n "password" }}: <a-tag color="green">[[ client.kcpSeed ]]</a-tag></p>
</template>

<template v-if="client.isGrpc">
    <p>grpc serviceName: <a-tag color="green">[[ client.serviceName ]]</a-tag></p>
</template>

<template v-if="client.tls || client.xtls">
    <p v-if="client.tls">tls: <a-tag color="green">{{ i18n "turnOn" }}</a-tag></p>
    <p v-if="client.xtls">xtls: <a-tag color="green">{{ i18n "turnOn" }}</a-tag></p>
</template>
<template v-else>
    <p>tls: <a-tag color="red">{{ i18n "closure" }}</a-tag></p>
</template>
<p v-if="client.tls">
    tls {{ i18n "domainName" }}: <a-tag :color="client.serverName ? 'green' : 'orange'">[[ client.serverName ? client.serverName : '' ]]</a-tag>
</p>
<p v-if="client.xtls">
    xtls {{ i18n "domainName" }}: <a-tag :color="client.serverName ? 'green' : 'orange'">[[ client.serverName ? client.serverName : '' ]]</a-tag>
</p>
{{end}}


{{define "component/clientInfoComponent"}}
<div>
    <p>{{ i18n "protocol"}}: <a-tag color="green">[[ dbClient.protocol ]]</a-tag></p>
    <p>{{ i18n "pages.clients.address"}}: <a-tag color="blue">[[ dbClient.address ]]</a-tag></p>
    <p>{{ i18n "pages.clients.port"}}: <a-tag color="green">[[ dbClient.port ]]</a-tag></p>

    <template v-if="dbClient.isVMess" v-for="(vmess, index) in client.settings.vmesses">
        <p>uuid: <a-tag color="green">[[ vmess.id ]]</a-tag></p>
        <p>alterId: <a-tag color="green">[[ vmess.alterId ]]</a-tag></p>
        <a-divider style="height: 2px; background-color: #7e7e7e" />
    </template>

    <template v-if="dbClient.isVLess" v-for="(vless, index) in client.settings.vlesses">
        <p>uuid: <a-tag color="green">[[ vless.id ]]</a-tag></p>
        <p v-if="client.isXTls">flow: <a-tag color="green">[[ vless.flow ]]</a-tag></p>
        <a-divider style="height: 2px; background-color: #7e7e7e" />
    </template>

    <template v-if="dbClient.isTrojan">
        <p>{{ i18n "password"}}: <a-tag color="green">[[ client.password ]]</a-tag></p>
    </template>

    <template v-if="dbClient.isSS">
        <p>{{ i18n "encryption"}}: <a-tag color="green">[[ client.method ]]</a-tag></p>
        <p>{{ i18n "password"}}: <a-tag color="green">[[ client.password ]]</a-tag></p>
    </template>

    <template v-if="dbClient.isSocks">
        <p>{{ i18n "username"}}: <a-tag color="green">[[ client.username ]]</a-tag></p>
        <p>{{ i18n "password"}}: <a-tag color="green">[[ client.password ]]</a-tag></p>
    </template>

    <template v-if="dbClient.isHTTP">
        <p>{{ i18n "username"}}: <a-tag color="green">[[ client.username ]]</a-tag></p>
        <p>{{ i18n "password"}}: <a-tag color="green">[[ client.password ]]</a-tag></p>
    </template>

    <template v-if="dbClient.isVMess || dbClient.isVLess || dbClient.isTrojan || dbClient.isSS">
        {{template "clientInfoStream"}}
    </template>
</div>
{{end}}

{{define "component/clientInfo"}}
<script>
    Vue.component('client-info', {
        delimiters: ['[[', ']]'],
        props: ["dbClient", "client"],
        template: `{{template "component/clientInfoComponent"}}`,
    });
</script>
{{end}}